PCF8574A

PCF8574Aは、I2Cバス上で制御される8ビットの汎用入出力拡張器です。I2Cバス上で動作するため、マイクロコントローラーなどの制御信号線が少ないデバイスでも、簡単に拡張することができます。

PCF8574Aには、8つのピンがあり、それぞれのピンにはデジタル入力またはデジタル出力を設定できます。また、I2Cバス上でのアドレス設定により、同じバス上に複数のPCF8574Aを接続することもできます。

PCF8574Aは、主にマイクロコントローラーなどのデジタル信号を入出力するために使用されます。例えば、LEDの制御、ボタンやスイッチの入力、モーターの制御などに使われます。また、マイコンで使われるGPIOピンが不足している場合に、PCF8574Aを使ってGPIOピンを拡張することができます。



8 Detailed Description
8.1 Overview
The PCF8574A device provides general-purpose remote I/O expansion for most microcontroller families via the
I2C interface [serial clock (SCL), serial data (SDA)].
The device features an 8-bit quasi-bidirectional I/O port (P0?P7), including latched outputs with high-current
drive capability for directly driving LEDs. Each quasi-bidirectional I/O can be used as an input or output without
the use of a data-direction control signal. At power on, the I/Os are high. In this mode, only a current source to
VCC is active. An additional strong pullup to VCC allows fast rising edges into heavily loaded outputs. This device
turns on when an output is written high and is switched off by the negative edge of SCL. The I/Os should be high
before being used as inputs.
The PCF8574A device provides an open-drain output ( INT) that can be connected to the interrupt input of a
microcontroller. An interrupt is generated by any rising or falling edge of the port inputs in the input mode. After
time, tiv, INT is valid. Resetting and reactivating the interrupt circuit is achieved when data on the port is changed
to the original setting or data is read from, or written to, the port that generated the interrupt. Resetting occurs in
the read mode at the acknowledge bit after the rising edge of the SCL signal, or in the write mode at the
acknowledge bit after the high-to-low transition of the SCL signal. Interrupts that occur during the acknowledge
clock pulse can be lost (or be very short) due to the resetting of the interrupt during this pulse. Each change of
the I/Os after resetting is detected and, after the next rising clock edge, is transmitted as INT. Reading from, or
writing to, another device does not affect the interrupt circuit.
By sending an interrupt signal on this line, the remote I/O can inform the microcontroller if there is incoming data
on its ports without having to communicate via the I2C bus. Therefore, the PCF8574A device can remain a
simple responder device.


8 詳細説明
8.1 概要
PCF8574Aデバイスは、ほとんどのマイクロコントローラファミリに対して、汎用的なリモートI/O拡張を提供します。
I2Cインターフェース［シリアルクロック（SCL）、シリアルデータ（SDA）］を搭載しています。
8ビットの準双方向I/Oポート（P0-P7）を備えており，大電流のラッチ出力が可能です。
LEDを直接駆動するためのドライブ機能を備えています。各準双方向I/Oは、入力または出力として使用することができます。
は、データ方向制御信号を使用します。電源投入時，I/OはHighとなる。このモードでは、電流源としてのみ
VCCはアクティブです。VCCへの強力なプルアップを追加することで、負荷の高い出力への高速な立ち上がりエッジが可能になります。このデバイスは
は，出力がHighに書き込まれるとONになり，SCLの負エッジでOFFになる。I/OはHighにする必要があります。
を入力として使用することができます。
PCF8574Aはオープンドレイン出力( INT)を備えており、この出力はPCF8574Aの割り込み入力に接続することができます。
マイクロコントローラの 入力モードでは、ポート入力の立ち上がりエッジまたは立ち下がりエッジによって、割り込みが発生します。後
時間、tiv、INTが有効である。割り込み回路のリセットと再活性化は，ポート上のデータが変更されたときに実現される
を元の設定に戻すか、割り込みを発生させたポートからデータを読み出すか、書き込むかします。リセットが発生するのは
SCL信号の立ち上がり後のアクノレッジビットで読み出しモード、または書き込みモードで、SCL信号の立ち上がり後のアクノレッジビットで書き込みモード。
アクノレッジビットは、SCL信号のHighからLowへの遷移後に発生します。アクノリッジ中に発生する割り込み
このパルス中に割り込みがリセットされるため、クロックパルスが失われる（または非常に短くなる）可能性があります。の各変化は
を検出し，次のクロックエッジの立ち上がり後にINTとして送信します。からの読み出し、または
他のデバイスに書き込んでも、割り込み回路には影響しません。
このラインに割り込み信号を送ることで、リモートI/Oはマイコンにデータの着信があったことを知らせることができます。
は、I2Cバスで通信することなく、そのポートで通信することができます。そのため、PCF8574Aデバイスは、I2Cバスを介した通信を行うことなく、ポート上で
シンプルなレスポンダデバイスです。




8.3 Feature Description
8.3.1 I2C Interface
I2C communication with this device is initiated by a commander sending a start condition, a high-to-low transition
on the SDA I/O while the SCL input is high. After the start condition, the device address byte is sent, mostsignificant
bit (MSB) first, including the data direction bit (R/ W). This device does not respond to the general call
address. After receiving the valid address byte, this device responds with an acknowledge, a low on the SDA I/O
during the high of the acknowledge-related clock pulse. The address inputs (A0?A2) of the responder device
must not be changed between the start and the stop conditions.
The data byte follows the address acknowledge. If the R/ W bit is high, the data from this device are the values
read from the P port. If the R/ W bit is low, the data are from the commander, to be output to the P port. The data
byte is followed by an acknowledge sent from this device. If other data bytes are sent from the commander,
following the acknowledge, they are ignored by this device. Data are output only if complete bytes are received
and acknowledged. The output data will be valid at time, tpv, after the low-to-high transition of SCL and during
the clock cycle for the acknowledge.
A stop condition, a low-to-high transition on the SDA I/O while the SCL input is high, is sent by the commander.


8.3 機能説明
8.3.1 I2C インターフェース
本デバイスとのI2C通信は、コマンダーがスタートコンディションを送信し、HighからLowに遷移することで開始されます。
をSCL入力がHighの時にSDA I/Oに入力する。スタート条件の後、デバイスアドレスバイトを送信します。
ビット（MSB）を優先し、データ方向ビット（R/W）を含む。このデバイスは、一般的な呼び出しには応答しません
アドレスになります。有効なアドレス・バイトを受信した後、このデバイスはアクノリッジで応答し、SDA I/Oをローにします。
は、アクノリッジ関連のクロックパルスのハイの間、使用されます。レスポンダデバイスのアドレス入力(A0-A2)
は、開始条件と停止条件の間で変更してはならない。
データ・バイトはアドレス・アクノレッジに続く。R/WビットがHighの場合、本デバイスからのデータは、値
をPポートから読み出す。R/WビットがLowの場合、データはコマンダーからのもので、Pポートに出力することになります。データ
バイトの後に、このデバイスから送信されるアクノリッジが続きます。他のデータバイトがコマンダーから送信された場合、
を受信した場合、本デバイスでは無視されます。データは、完全なバイトを受信した場合のみ出力されます。
と確認される。出力データは，SCLのLow-High遷移後，tpvの時間帯に有効となる。
は、アクノリッジのためのクロック・サイクルです。
停止条件（SCL入力がHighの間にSDA I/OがLowからHighに遷移すること）は、コマンダーによって送信されます。